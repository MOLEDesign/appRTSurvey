<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>myQuestions</title>


    <link rel="stylesheet" href="../styles/jquery.mobile.theme-1.3.1.min.css">
    <link rel="stylesheet" href="../styles/theme.css">
    <link rel="stylesheet" href="../styles/jquery.mobile.structure-1.3.1.min.css">

    <!-- Extra Codiqa features -->
    <link rel="stylesheet" href="codiqa.ext.css">

    <link rel="stylesheet" href="https://codiqa.com/view/792085a1/css">

    <!-- jQuery and jQuery Mobile -->
    <script src="../scripts/jquery-1.9.1.min.js"></script>
    <script src="../scripts/jquery.mobile-1.3.1.min.js"></script>

    <!-- Extra Codiqa features -->
    <script src="../scripts/codiqa.ext.js"></script>

    <!-- Call mustache.js -->
    <script src="../scripts/mustache.js"></script>
    <script src="../scripts/storage.js"></script>
    <script>
        $(window).load(function(){
            $("#fullname").attr("placeholder", db_user.getItem('fullname'));
            $("#mobilenumber").attr("placeholder", db_user.getItem('mobilenumber'));
            $("#email").attr("placeholder", db_user.getItem('email'));
            $("#server").attr("placeholder", db_server.getItem('server'));
        });
    </script>

</head>
<body>
<div data-role="page" data-control-title="Home" data-theme="d" id="home_page">
    <div data-theme="" data-role="header" data-position="fixed">
        <h3>
            myQuestions
        </h3>
    </div>
    <div data-role="content" style="padding: 2%">
        <div data-controltype="textblock">
            <p>
                <b>
                    Please choose one of the available questionaires from the dropdown list
                    below and click Access Questionaire.
                </b>
            </p>
        </div>
        <div style=" text-align:center" data-controltype="image" id="frontpageimg">
            <img style="width: 129px; height: 129px"
                 src="https://s3.amazonaws.com/assets.codiqa.com/Xc3arRRXQtW0SYi2YMcD_apple-touch-icon.png">
        </div>
    </div>
    <div data-role="content" style="padding: 2%">
        <form id="choosequestionaire">
            <div id="home_page_content">
            </div>
        </form>
    </div>
    <div data-role="content" style="padding: 2%">
        <div class="ui-grid-a">
            <div class="ui-block-a">
                <a data-role="button" href="#help_page" data-icon="ios-pack-color-info"
                   data-iconpos="left" data-iconsize="26">
                    Help
                </a>
            </div>
            <div class="ui-block-b">
                <a data-role="button" href="#config_page" data-icon="ios-pack-color-gear"
                   data-iconpos="left" data-iconsize="26">
                    Config
                </a>
            </div>
        </div>
    </div>
</div>
<div data-role="page" data-control-title="Help" data-theme="d" id="help_page">
    <div data-theme="a" data-role="header" data-position="fixed">
        <a data-role="button" href="#home_page" data-icon="arrow-l" data-iconpos="left"
           class="ui-btn-left">
            Home
        </a>

        <h3>
            Help
        </h3>
    </div>
    <div data-role="content" style="padding: 2%">
        <div data-role="collapsible-set">
            <div data-role="collapsible" data-collapsed="false">
                <h3>
                    About
                </h3>

                <div data-controltype="textblock">
                    <h2 data-mce-style="text-align: left;" style="text-align: left;">
                        myQuestions v2.0.0
                    </h2>

                    <p style="text-align: left;">
                        (c) 2013+ FGW
                    </p>

                    <p style="text-align: left;">
                        Design and Coding by Morgan Leecy
                    </p>
                </div>
            </div>
            <div data-role="collapsible">
                <h3>
                    Configuration
                </h3>

                <div data-controltype="textblock">
                    <p>
                        <b>
                            The config screen allows you to store your personal details for submission
                            with questionaires and 'ask a question'. If a question or questionaire
                            is marked as annonymous these details will NOT be sent.
                        </b>
                    </p>

                    <p>
                        <b>
                            The posting server is information supplied by your IT deptartment. In
                            most instances this will be pre-filled
                        </b>
                    </p>

                    <p>
                        <b>
                            Please note that full resets or majr firmware upgrades of your smartphone
                            may clear this information.
                        </b>
                    </p>
                </div>
            </div>
            <div data-role="collapsible">
                <h3>
                    Questionaires
                </h3>

                <div data-controltype="textblock">
                    <p>
                        Questionaires info
                    </p>
                </div>
            </div>
            <div data-role="collapsible">
                <h3>
                    Asking questions
                </h3>

                <div data-controltype="textblock">
                    <p>
                        The asking a question section allows you to pose questions to the event
                        organiser.
                    </p>

                    <p>
                        In many situations it will likely be just a single field in which to pose
                        your question, however in depending on how the question has been configured
                        you may be allowed to specifiy certain variables such as, butnot limited
                        to
                    </p>
                    <ul>
                        <li>
                            The method in which you would prefer the question answered
                        </li>
                        <li>
                            If you want a private answer
                        </li>
                    </ul>
                    <p>
                        Once you have posed your question and sepcified these variables, click
                        the 'Ask your question' button
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
<div data-role="page" data-control-title="Config" data-theme="d" id="config_page">
    <div data-theme="a" data-role="header" data-position="fixed">
        <a data-role="button" href="#home_page" data-icon="arrow-l" data-iconpos="left"
           class="ui-btn-left">
            Home
        </a>

        <h3>
            Config
        </h3>
    </div>
    <div data-role="content" style="padding: 2%">
        <div data-controltype="textblock">
            <p>
                <b>
                    Please click on the section you wish to complete
                </b>
            </p>
        </div>
        <div data-role="collapsible-set">
            <div data-role="collapsible" data-collapsed="false">
                <h3>
                    Personal Info
                </h3>

                <form id="usersettings" action="" method="POST">
                    <div data-controltype="textblock">
                        <p>
                            <b>
                                Please note that if a questionaire or ask a question section is marked
                                as 'anonnymous' then this information will NOT be sent.
                            </b>
                        </p>
                    </div>
                    <div data-role="fieldcontain" data-controltype="textinput">
                        <label for="fullname">
                            Full name
                        </label>
                        <input name="fullname" id="fullname" placeholder="" value="" type="text"
                               data-mini="true">
                    </div>
                    <div data-role="fieldcontain" data-controltype="textinput">
                        <label for="mobilenumber">
                            Phone Number
                        </label>
                        <input name="mobilenumber" id="mobilenumber" placeholder="" value="" type="tel"
                               data-mini="true">
                    </div>
                    <div data-role="fieldcontain" data-controltype="textinput">
                        <label for="email">
                            Email
                        </label>
                        <input name="email" id="email" placeholder="" value="" type="email" data-mini="true">
                    </div>
                    <input type="button" data-icon="plus" data-iconpos="left" value="Store Personal Details"
                           data-mini="true" onclick="javascript:dbGoUser()">
                </form>
            </div>
            <div data-role="collapsible">
                <h3>
                    Advanced
                </h3>

                <form id="serversettings" action="" method="POST">
                    <div data-role="fieldcontain" data-controltype="textinput">
                        <label for="server">
                            Posting Server
                        </label>
                        <input name="server" id="server" placeholder="" value="" type="text" data-mini="true">
                    </div>
                    <input type="button" data-icon="plus" data-iconpos="left" value="Confirm Posting Server"
                           data-mini="true" onclick="javascript:dbGoServer()">
                </form>
            </div>
        </div>
    </div>
</div>
</body>

<script type="text/javascript">

    $(function () {

        $.getJSON('http://mobileapps.moledesign.biz/myquestions/server/datastore/manifest.json', function (data) {
            var template = '<div data-role="fieldcontain" data-controltype="selectmenu">';
            template += '{{#myQuestions}}';
            template += '<label for="selectquestion" class="ui-select">Choose:</label>';
            template += '<select id="selectmenu2" name="Select List" data-mini="true">';
            template += '{{#questionaires}}';
            template += '<option value="{{name}}">{{name}}</option>';
            template += '{{/questionaires}}';
            template += '</select>';
            template += '{{/myQuestions}}';
            template += '</div>';
            template += '<input type="submit" value="Access Questionaire" data-mini="true">';
            var html = Mustache.to_html(template, data);
            $('#home_page_content').prepend(html).trigger('create');
        }); //getJSON

    }); //function

</script>

</html>
